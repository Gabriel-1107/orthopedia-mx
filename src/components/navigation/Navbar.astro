---
import Logo from "@components/base/Logo.astro";
import ButtonMain from "@components/base/ButtonMain.astro";
import ThemeToggler from "@components/base/ThemeToggler.astro";
import Hamburger from "@components/base/Hamburger.astro";
---

<div
  x-cloak
  x-data="navbar()"
  x-on:scroll.window="scroll()"
  class="fixed top-0 left-0 w-full z-50 transition-all duration-300"
  :class="scrolled || $store.app.mobileOpen ? 'bg-white dark:bg-muted-900 shadow-lg shadow-muted-300/30 dark:shadow-muted-900/40' : ''"
>
  <div
    class="w-full max-w-7xl mx-auto flex items-center justify-between pl-4 pr-0 lg:pr-4 font-sans"
  >
    <!-- Left -->
    <div class="w-full lg:w-auto flex items-center gap-6">
      <a href="/" class="flex items-center gap-3">
        <div
          class="transition-all duration-300"
          :class="scrolled || $store.app.mobileOpen ? 'text-rose-500 rotate-90' : 'text-primary-600'"
        >
          <Logo class="'w-9 h-9'" />
        </div>
        <span
          class="font-sans text-lg tracking-widest uppercase text-muted-800 dark:text-muted-100"
          >Dokto</span
        >
      </a>
      <div class="hidden md:block relative">
        <input
          type="text"
          class="peer pl-9 pr-4 py-2 h-10 text-sm leading-5 font-sans w-full rounded-xl bg-white text-slate-600 border border-slate-300 focus-visible:shadow-lg focus-visible:shadow-slate-300/50 dark:focus-visible:shadow-slate-800/50 placeholder:text-slate-300 dark:placeholder:text-slate-500 dark:bg-slate-800 dark:text-slate-200 dark:border-slate-700 outline-none focus-visible:outline-2 focus-visible:outline-dashed focus-visible:outline-slate-300 dark:focus-visible:outline-slate-600 focus-visible:outline-offset-2 disabled:opacity-60 disabled:cursor-not-allowed transition-all duration-300"
          placeholder="Search your doctor..."
        />
        <div
          class="absolute top-0 left-0 h-10 w-10 flex justify-center items-center text-slate-400 peer-focus:text-primary-500 peer-disabled:opacity-20 transition-colors duration-300"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            aria-hidden="true"
            role="img"
            class="h-4 w-4"
            width="32"
            height="32"
            preserveAspectRatio="xMidYMid meet"
            viewBox="0 0 24 24"
            ><g
              fill="none"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              ><circle cx="11" cy="11" r="8"></circle><path
                d="m21 21l-4.35-4.35"></path>
            </g>
          </svg>
        </div>
      </div>
      <div class="flex items-center justify-center h-20 w-20 lg:hidden ml-auto">
        <Hamburger />
      </div>
    </div>
    <!-- Right -->
    <div class=" flex-col items-center lg:justify-end gap-x-6"
        :class="$store.app.mobileOpen ? 'absolute top-[80px] left-0 w-full flex text-center px-6 pt-2 pb-6 border-t border-muted-200 dark:border-muted-800 bg-white dark:bg-muted-900 shadow-lg shadow-muted-300/40 dark:shadow-muted-900/50' : 'hidden lg:flex lg:flex-row'"
    >
      <div class="flex flex-col lg:flex-row items-center gap-x-6">
        <div class="py-3 lg:py-5 text-slate-500 dark:text-slate-400">
          <a href="#doctors">Doctors</a>
        </div>
        <div class="py-3 lg:py-5 text-slate-500 dark:text-slate-400">
          <a href="#product">Product</a>
        </div>
        <div class="py-3 lg:py-5 text-slate-500 dark:text-slate-400">
          <a href="#pricing">Pricing</a>
        </div>
        <div class="py-3 lg:py-5 text-slate-500 dark:text-slate-400">
          <a href="#">Sign In</a>
        </div>
        <div class="py-3 lg:py-5">
          <ThemeToggler />
        </div>
      </div>
      <div class="w-full md:w-auto">
        <ButtonMain to={"#"} class="'w-full md:w-[240px] lg:w-[110px]'">Signup</ButtonMain>
      </div>
    </div>
  </div>
</div>
